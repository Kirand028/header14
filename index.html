<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Text Editor</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body id="bec">
    <div class="editor-container" id="ec">
      <div class="editor">
        <div class="left-column">
          <div class="controls-left">
            <button onclick="undo()">Undo</button>
            <button onclick="redo()">Redo</button>
          </div>
          <div class="text-area">
            <div id="textContainer" contenteditable="true"></div>
          </div>
        </div>
        <div class="right-column">
          <div class="input-controls">
            <div class="input-row">
              <select id="fontFamily" onchange="changeFontFamily(this.value)">
                <option value="Arial">Arial</option>
                <option value="Verdana">Verdana</option>
                <option value="Georgia">Georgia</option>
                <option value="Times New Roman">Times New Roman</option>
                <option value="Helvetica">Helvetica</option>
                <option value="Calibri">Calibri</option>
                <option value="Andale Mono">Andale Mono</option>
                <option value="Cambria">Cambria</option>
                <option value="Lucida Console">Lucida Console</option>
                <option value="Gill Sans">Gill Sans</option>
                <option value="Franklin Gothic Medium">Franklin Gothic Medium</option>
              </select>
            </div>
            <div class="input-row">
              <input type="number" id="fontSize" placeholder="Size" onchange="changeFontSize(this.value)">
              <input type="color" id="colorPicker"  value="#ff8e23" onchange="changeColor(this.value)">
            </div>
            <div class="input-row" id="last-row">
              <input type="text" id="textInput" placeholder="Enter Text">
              <button onclick="addText()">Add</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
        let history = [];
        let currentIndex = -1;
        let ignoreChanges = false;

        function addText() {
        const text = document.getElementById('textInput').value.trim();
        if (text !== '') {
            saveState(text);
            displayState();
        }
        }

        function saveState(text) {
        if (!ignoreChanges) {
            const state = {
                text: text,
                color: document.getElementById('textContainer').style.color,
                fontSize: document.getElementById('textContainer').style.fontSize,
                fontFamily: document.getElementById('textContainer').style.fontFamily,
            };
            history = history.slice(0, currentIndex + 1);
            history.push(state);
            currentIndex++;
        }
        }

        function undo() {
        if (currentIndex > 0) {
            currentIndex--;
            ignoreChanges = true;
            displayState();
            ignoreChanges = false;
        }
        }

        function redo() {
        if (currentIndex < history.length - 1) {
            currentIndex++;
            ignoreChanges = true;
            displayState();
            ignoreChanges = false;
        }
        }

        function changeColor(color) {
            document.getElementById('textContainer').style.color = color;
            saveState(getText());
        }

        function changeFontSize(size) {
            document.getElementById('textContainer').style.fontSize = `${size}px`;
            saveState(getText());
        }

        function changeFontFamily(font) {
            document.getElementById('textContainer').style.fontFamily = font;
            saveState(getText());
        }

        function getText() {
            return document.getElementById('textContainer').innerHTML;
        }

        function displayState() {
            const state = history[currentIndex];
            if (state) {
                document.getElementById('textContainer').innerHTML = state.text;
                document.getElementById('textContainer').style.color = state.color;
                document.getElementById('textContainer').style.fontSize = state.fontSize;
                document.getElementById('textContainer').style.fontFamily = state.fontFamily;
            }
        }

    </script>
</body>
</html>
